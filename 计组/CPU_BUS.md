# 5.1.5 答案与解析  

# 一、单项选择题  

01.C
- 控制器组成
  - 程序计数器PC
  - 指令寄存器IR
  - 存储器地址寄存器MAR
  - 存储器数据寄存器MDR
  - 指令译码器
  - 时序电路
  - 微操作信号发生器
- 程序状态字寄存器(PSW)
  - 属于运算器组成部分
  - 包含两部分
    - 状态标志(如进位标志CF、结果为零标志ZF等)
    - 控制标志(如中断标志、陷阱标志等)

02.D
- 寄存器说明
  - 存放指令的寄存器是指令寄存器(A错误)
  - 存放程序状态字的寄存器是程序状态字寄存器(B错误) 
  - 通用寄存器不一定具有计数逻辑和移位逻辑功能(C错误)

03.A
- 指令寄存器功能
  - 用于存放当前正在执行的指令

04.B
- 程序计数器功能
  - 存放下一条指令在主存储器中的地址
  - 具有自增功能

05.B
- 各寄存器功能
  - 指令寄存器:存放当前正在执行的指令
  - 程序计数器:存放下一条指令的地址
  - 地址寄存器:暂存指令或数据的地址
  - 程序状态字寄存器:保存系统运行状态
  - 条件转移指令执行时需测试标志寄存器内容

06.B
- 数据总线特点
  - 位数与处理器位数相同
  - 表示CPU一次能处理的数据位数

07.C
- 寄存器透明性
  - 指令寄存器对用户透明,不需用户干预
  - 其他三种寄存器内容可由程序员指定

08.A
- CPU取指令过程
  - 根据PC内容从主存储器取指令
  - 地址寄存器指出数据在主存储器中的地址

09.B
- 控制器特点
  - 是计算机中处理指令的部件
  - 包含程序计数器

10.C
- PC特点
  - 存放下一条要执行指令的地址(A正确)
  - 值会在执行指令过程中修改(B正确)
  - 转移指令时需判别转移是否成功(C错误)
  - 位数通常和MAR位数一样(D正确)

11.B
- PC位数决定因素
  - 取决于存储器容量和指令字长
  - 字节地址:PC位数=存储器地址位数
  - 字地址:PC位数=存储器地址位数-$\log$(指令字长字节数)

12.B
- PC使用特点
  - 不能在机器指令中显式使用
  - 值自增或由转移类指令设置
  - 自增值取决于指令长度占的编址单位

13.C
- 指令寄存器特点
  - 保存当前正在执行的指令
  - 位数取决于指令字长

14.C
- 通用寄存器特点
  - 用于存放操作数和地址信息
  - 位数与机器字长相等
  - 便于操作控制

15.B
- 寄存器功能区别
  - 通用寄存器:供用户自由编程,存放数据和地址
  - 指令寄存器:专门存放指令,不能由通用寄存器代替

16.D
- 程序状态字寄存器功能
  - 存放程序状态字
  - 各位表征程序和机器运行状态
  - 包含进位标志CF、结果为零标志ZF等

17.D
- 程序状态字寄存器作用
  - 保留算术、逻辑运算及测试指令的结果状态

18.C
- 标志寄存器特点
  - 是专用寄存器,不需编号
  - 不能在指令中直接指定编号访问
  - 内容由CPU根据指令执行结果生成
  - 用户不能直接修改值
  - 主要用于条件判断

19.C
- 控制器功能
  - 取指令
  - 分析指令
  - 执行指令(发出操作控制信号)

20.C
- 指令译码器功能
  - 仅对操作码字段译码
  - 确定指令操作功能

21.C
- 地址译码器特点
  - 是主存等存储器组成部分
  - 不是CPU组成部分
  - 根据地址码选定存储单元

22.A
- 各部件特点
  - 地址译码器位于存储器(I正确)
  - 程序计数器存放欲执行指令地址(II错误)
  - 程序计数器决定程序执行顺序(III正确)
  - 程序状态字寄存器对用户不透明(IV错误)

23.B
- 间址周期特点
  - 作用是取操作数有效地址
  - 结束后MDR内容为操作数地址

24.B
- PC宽度计算
  - 计算机按字节编址
  - 指令字长32位(4字节)
  - 指令按字边界对齐
  - 指令起始地址是4字节整数倍
  - $4\mathrm{GB}/4\mathrm{B}=2^{30}$
  - PC宽度至少30位

25.B
- 寄存器可见性
  - PC对汇编语言程序员可见
  - IR、MAR、MDR是CPU内部工作寄存器
  - 内部寄存器对程序员不可见

26.B
- PC和IR位数要求
  - PC至少30位(字地址)
  - 取指令时PC值左移2位
  - IR至少32位(存放指令)
# 二、综合应用题  

01.【解答】

- CPU中的专用寄存器
  - 程序计数器（PC）
  - 指令寄存器（IR）
  - 存储器数据寄存器（MDR）
  - 存储器地址寄存器（MAR）
  - 程序状态字寄存器（PSW）

# 5.2.5 答案与解析  

# 一、单项选择题  

# 时钟周期、指令周期与总线周期
01.A  
- 时间单位概念
  - 时钟周期是计算机操作的最小时间单位
  - 为主频的倒数
  - 指令周期由多个CPU周期(机器周期)组成
  - 总线周期是一次总线操作所需时间
    - 通常为一个或多个时钟周期

02.D  
- 各种周期定义
  - 指令周期:CPU取出并执行一条指令的全部时间
  - 时钟周期:CPU操作的最基本单位
    - 也称节拍或T周期
  - 指令周期可分为若干机器周期
  - 存取周期:存储器两次独立存储操作的最小间隔时间

03.C  
- 指令周期组成
  - CPU从主存取出指令的时间
  - 执行指令的时间
  - 间址周期非必需

04.B  
- 无条件跳转指令中PC值修改
  - 取指周期结束后PC值自动加1
  - 执行周期中PC值修改为跳转地址
  - PC值总共修改2次

05.D
- PC内容修改时机
  - 取指操作后修改为下一条指令地址
  - 非当前指令地址

06.B
- 取指操作特点
  - 自动进行
  - 控制器无需指令

07.B  
- 不同长度指令的取指操作
  - 单字指令
  - 双字指令
  - 三字指令
  - 取指操作可能不同

08.A
- 指令周期首个机器周期
  - 为取指周期
  - 从主存取出指令字的时间

09.B  
- 存储器操作时间
  - 读/写时间:一次读或写操作时间
  - 存取周期:连续两次独立操作最短时间
  - 机器周期通常由存取周期确定

10.D  
- 中断周期进入条件
  - 指令执行周期完成后判断
  - 有中断请求才进入

11.D  
- 机器周期特点
  - 指令执行每步操作所需时间
  - 长度可变
  - 不同指令所需机器周期数可变

12.C  
- 间址方式区别
  - 存储器间址:形式地址访存
  - 寄存器间址:寄存器内容访存

13.A  
- 指令和数据区分
  - 存储器本身无法区分
  - 控制器控制下不同阶段区分
    - 取指阶段读出为指令
    - 执行阶段读出可能为数据
  - 运算器和数据通路不能区分

14.A  
- 指令字长特点
  - 与存储字长关系
    - 一般取存储字长整数倍
    - 不一定等于存储字长
  - 取决于因素
    - 操作码长度
    - 操作数地址长度
    - 操作数地址个数
  - 与机器字长无必然联系

15.A  
- 单周期与多周期CPU执行时间比较
  - 取决于时钟周期长短
  - 取决于多周期CPU所需时钟周期数

16.C  
- CPU区分指令和数据方式
  - 根据指令周期不同阶段
    - 取指阶段取出为指令
    - 执行阶段取出为数据
  - 非依据译码结果区分

17.C  
- 不采用指令预取和Cache的特点
  - 每个指令周期需取指令
  - 每次取指令至少访存一次
  - PC在取指结束后自动加1
  - 开中断状态可能被外部中断打断


# 5.3.6 答案与解析  

# 一、单项选择题  

01.C
- CPU数据通路基本结构
  - 总线结构
    - 单总线结构
    - 双总线结构
    - 多总线结构
  - 专用数据通路结构

02.D
- 数据通路部件组成
  - 组合逻辑元件
    - ALU:执行算术和逻辑运算
  - 时序逻辑元件
    - 通用寄存器
  - 功能由控制部件控制信号决定

03.D
- ALU与总线连接特点
  - ALU为组合逻辑电路
    - 运算时两输入端内容需保持不变
  - 单总线结构下
    - 一输入端与总线直接相连
    - 另一输入端通过寄存器与总线相连
    - 输出端需通过暂存器与总线相连
      - 避免输出通过总线反馈到输入

04.C
- 三态门特点
  - 作为控制开关
  - 由控制端决定信号线通断
  - 输出到内部总线的部件均需通过三态门连接

05.B
- 总线信号流动原则
  - 每时刻只允许一个器件发出信息
  - 每时刻可有一个或多个器件接收信息

06.C
- 单周期与多周期CPU比较
  - 多周期CPU
    - 多个时钟周期完成指令
    - $\mathrm{CPI}>1$
  - 单周期CPU 
    - 一个时钟周期完成指令
    - ${\mathrm{CPI}}=1$
    - 时钟周期较长
    - 控制信号保持不变
    - 部件只能使用一次

07.D
- CPU内部总线数据通路特点
  - 采用总线方式
    - 结构简单
    - 实现容易
    - 性能较低
    - 冲突现象多
  - 不采用总线方式
    - 结构复杂
    - 硬件量大
    - 不易实现
    - 性能高
    - 基本无数据冲突

08.D
- 读/写控制信号线功能
  - 决定存储器读写操作

09.A
- 单周期处理器特点
  - 指令周期为一个时钟周期
  - 时钟频率较低
  - 单总线数据通路限制
  - 控制信号在时钟周期内不变

10.C
- 数据通路定义与组成
  - 指令执行过程中数据经过的路径
  - 包含部件
    - ALU
    - 通用寄存器
    - 状态寄存器
    - Cache
    - MMU
    - 浮点运算逻辑
    - 异常和中断处理逻辑
  - 数据流动由控制部件控制

11.B
- 逻辑元件分类
  - 组合逻辑元件(操作元件)
    - 无记忆单元
    - 输出取决于当前输入
    - 包括:加法器、ALU、译码器等
  - 时序逻辑元件(状态元件) 
    - 含记忆单元
    - 包括:各类寄存器和存储器
# 二、综合应用题  

01.【解答】
- 实现ADDR1，（R2）的微操作序列
  - 微操作
    - (PC）→MAR 
    - M→MDR 
    - (PC）+1→PC 
    - (MDR)→IR 
    - (R1)→LA 
    - (R2)→MAR 
    - M→MDR 
    - (MDR)→LB 
    - (LA)+(LB)→R1

02.【解答】
- 两条指令的微操作序列和控制信号
  - ADDB，C指令
    - 微操作控制信号
      - (PC)→MAR PCout，MARin
      - (PC)+1→PC+1
      - M(MAR)→MDR→IR MDRout,IRin
      - (B)→Y Bout, Yin
      - (Y)+(C)→Z Cout, ALUin, +
      - (Z)→B Zout,Bin
  - SUBACC，H指令
    - 微操作控制信号
      - (PC)→MAR PCout,MARin
      - (PC)+1→PC+1
      - M(MAR)→MDR→IR MDRout,IRin
      - (ACC)→Y ACCout,Yin
      - (Y)-(H)→Z Hout,ALUin
      - (Z)→ACC Zout, Accin

03.【解答】
- 指令ADD(R0),R1功能分析
  - 功能：$((\mathrm{R0}))+(\mathrm{R1}){\rightarrow}(\mathrm{R0})$
  - 流程和控制信号
    - 取指周期：公共操作
![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/f84dcc120dcbcfbb34c20c3c0e2d3b161154967efc1a7f373c7aad2a8b361004.jpg)
    - 取数周期：完成取数操作
![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/c1689d23e868609146eb52b0b8b1aedad58f47993bdcf50c2c623e9874652d62.jpg)
    - 执行周期：完成加法运算
![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/2540636a89137a158d85bb6d41d0bf7c59cd9273fdfeb3629886f3ab92ea9388.jpg)

04.【解答】
- 功能部件分析
  - b单向连接微控制器：IR
  - a和c直接连接主存：MDR和MAR
    - c到主存单向连接：MAR
    - a和主存双向连接：MDR
  - d具有自动加1功能：PC
- 数据通路分析
  - 取指令数据通路
  - 存储器读数据通路
  - 存储器写数据通路：MAR(先置数据地址)，ACC→MDR→主存M
  - LDAX指令数据通路
  - ADDY指令数据通路：Y→MAR→主存→MDR ALU→ACC
  - STAZ指令数据通路

05.【解答】
- 功能部件连接关系及数据通路
![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/661f3bd2a04fb0d03925070f3545a20e3ada5d050a8767e107c91dfee82e5fee.jpg)
- 分析过程
  - 取指令地址送到IR并译码
  - 取源操作数和目的操作数
  - 将源操作数和目的操作数相加送到MAR
  - 将寄存器R2的内容加1
- 取指周期流程
![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/5e642dab1517448c221e2f35932a2d3e4cc15b395ee72b510e1bea53e8fd904c.jpg)
06.【解答】
- ADDX，D指令周期信息流程和相应的控制信号
![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/00894e01e9f848466f0d413b5b0e69aac60af02ee9f98c3242d2099f24d175cb.jpg)  
![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/020b8c5c3f3fe53ff8e37feda0fad8fdf539f6981833563b7305a4354a63c1b4.jpg)  
注：题目中的D即为Ad（IR）。

07.【解答】
- 解题思路分析
  - 取指阶段数据通路分析
    - 功能：根据PC内容指向的主存地址取指令到IR
    - 方法与取操作数、存结果相通
  - 取指令节拍分析
    - C1: (PC)→MAR
      - 读写前必须先将地址送至MAR
    - C2: M(MAR)→MDR, (PC)+1→PC
      - 读写数据必经MDR
      - 指令取出后PC自增
    - C3: (MDR)→IR
      - 指令代码送至IR进行后续操作
  - ADD(R1),R0指令分析
    - 操作数位置
      - 一个在主存中
      - 一个在寄存器中
    - 运算结果存放在主存中
    - 执行步骤
      - C5: (R1)→MAR 
      - C6: M(MAR)→MDR
      - C7: (MDR)→A
      - C8: (A)+(R0)→AC
      - C9: (AC)→MDR
      - C10: (MDR)→M(MAR)
    - 控制信号安排
      - 流入寄存器X: Xin
      - 流出寄存器X: Xout
      - 特殊控制信号: PC+1、Add等

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/cb4b5ddf9bd5083ae3ddadfec8991f8731b5c91376408050705d1020631f6e88.jpg)  
![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/bcefe925038a14ac746560481899c5f7a468b6b712162df1beece18df4e0e2ce.jpg)  

- 优化方案
  - C6可同时执行M(MAR)→MDR和(R0)→A
  - 可节省1个节拍
![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/0dd137c83beecb2b28a61c379ac984e23d0e38bce599b8df60bfd1bfd409483b.jpg)  

08.【解答】
- 程序员可见寄存器分析
  - 包括通用寄存器(R0~R3)和PC
  - 单总线结构需要暂存器T避免ALU端口数据冲突
- 控制信号位数分析
  - ALU: 7种操作需要3位ALUop
  - 移位寄存器: 3种操作需要2位SRop
- SRout信号功能
  - 控制移位器与总线间三态门
  - 控制数据通路连接与断开
- 端口连接
  - 端口1、2、3、4、5须连接控制部件输出端
- 连线分析
  - 连线1: (6)→(9)
  - 连线2: 5→4
- 指令地址计算
  - 16位指令长度
  - 字节编址占用2个内存单元
  - 顺序执行时PC+2
  - MUX输入端2用于PC+2操作

09.【解析】
- 标志位分析
  - SF标志
    - 表示运算结果正负性
    - SF = F15
  - 加法溢出OF标志
    - A、B为负且F为正时溢出
    - A、B为正且F为负时溢出
    - OF = $\overline{A_{15}}\cdot\overline{B_{15}}\cdot F_{15} + A_{15}\cdot B_{15}\cdot\overline{F_{15}}$
  - 减法溢出OF标志
    - A为负、B为正且F为正时溢出
    - A为正、B为负且F为负时溢出
    - OF = $\overline{A_{15}}\cdot B_{15}\cdot F_{15} + A_{15}\cdot\overline{B_{15}}\cdot\overline{F_{15}}$
- 单总线结构分析
  - 总线一次只能传输一个数据
  - ALU需要暂存器Y和Z缓存数据
- 通用寄存器分析
  - rs和rd为4bit
  - GPRs最多16个寄存器
  - rs和rd来自IR
  - rd连接地址译码器
- 取指阶段控制信号
  - 1: PCout,MARin
  - 2: Read
  - 3: MDRout,IRin
  - 时钟周期: 1+5+1=7
- 控制信号连接
  - 由控制部件CU产生
  - IR和FR输出连接CU输入端



# 5.4.5 答案与解析  

# 一、单项选择题  

01.D
- 取指令阶段任务
  - 从主存取出现行指令送至指令寄存器
  - 公共操作，每条指令都要执行
  - 与具体指令无关，不需操作码控制

02.B
- CU输入信号来源
  - 指令译码器译码产生的指令信息
  - 时序系统产生的机器周期和节拍信号
  - 执行单元的反馈信息(标志)
  - 前两者为主要因素

03.C
- 微程序执行流程
  - 执行公用取指微程序从主存取指令
  - 由指令操作码字段指出微程序入口地址

04.D
- 微指令设计目标
  - 执行速度
  - 灵活性
  - 指令长度
  - 控制存储器容量与设计目标无关

05.D
- 微程序控制特点
  - 需从控制存储器读出微指令
  - 增加时间消耗

06.C
- 微指令编码分析
  - 字段直接编码
    - 4个微命令需3位
    - 2位无法表示不输出状态
  - 垂直型微指令缺点
    - 微程序长
    - 执行速度慢
    - 工作效率低
  - 字段间接编码
    - 字段间存在依赖关系
    - 需要其他字段译码输出

07.C
- 微程序控制存储器
  - 存放微程序
  - 微程序控制器核心部件
  - 属于CPU而非主存

08.D
- 控制器特点对比
  - 硬布线控制器
    - 速度快
    - 设计难度大
    - 成本高
  - 微程序控制器
    - 速度慢
    - 灵活性高
  - 控制存储器采用ROM
  - 微指令计数器决定执行顺序

09.B
- 控制器时序系统对比
  - 硬布线控制器
    - 需综合分析微操作节拍
    - 时序系统复杂
  - 微程序控制器
    - 按节拍顺序执行
    - 时序系统简单

10.D
- 微程序控制器概念
  - 微命令：控制部件向执行部件发出的控制信号
  - 微操作：微命令执行的操作
  - 微指令：若干微命令的集合
  - 微程序：若干微指令的有序集合

11.B
- CPU周期组成
  - 微命令组合构成微指令
  - 有序微指令序列构成微程序
  - 微程序实现对应机器指令

12.B
- 微指令类型对比
  - 水平型：可执行多种并行基本操作
  - 垂直型：只能执行一种基本操作

13.C
- 垂直型微指令特点
  - 设置微操作码字段
  - 结构类似机器指令格式
  - 不适合并行控制功能

14.A
- 微命令类型
  - 相容性微命令：可同时出现
  - 互斥性微命令：不可同时出现
    - 可能原因：总线冲突等

15.B
- 微程序控制相关概念
  - 微处理器与微程序控制器无必然联系
  - 机器指令对应微程序
  - 微程序包含多条微指令
  - 微指令对应一个或多个微操作命令
  - 水平型微指令支持并行操作
16.C
- 微程序控制与硬布线控制对比
  - 速度比较
    - 硬布线方式速度较快
  - μPC与PC关系
    - μPC仅指向微指令地址
    - 不能替代PC功能
  - 控制存储器特性
    - 采用ROM存储控制信号
  - 指令周期与CPU周期区别
    - 指令周期:从一条指令启动到下一条指令启动
    - CPU周期:指令执行中每步操作时间

17.A
- 微程序与指令周期关系
  - 一条指令对应一个微程序
  - 微程序周期对应指令周期

18.B
- CPU控制器组成
  - 主要部件
    - 指令寄存器
    - 程序计数器 
    - 操作控制器
  - 状态条件寄存器
    - 属于运算器部件
    - 保存条件码内容(CF、VF等)

19.C
- 微指令寻址方式
  - 断定法特点
    - 直接指定下一条微指令地址
    - 每条都是转移微指令
  - 地址生成方式
    - 微程序设计者指定
    - 转移控制字段控制

20.D
- 控制器类型对比
  - 微程序控制器
    - 采用存储程序原理
    - 修改扩充容易
    - 速度较慢
  - 硬布线控制器
    - 采用专门逻辑电路
    - 速度快
    - 修改扩展困难

21.C
- 字段直接编码法
  - 微命令字段划分
    - 互斥性微命令在同一字段
    - 相容性微命令在不同字段
  - 编码位数计算
    - 5个互斥类(7,3,12,5,6个微命令)
    - 需要3,2,4,3,3位,共15位

22.C
- 微指令系统设计
  - 系统参数
    - 32条指令
    - 平均4条微程序/指令
    - 2条公共微指令
  - 地址位数计算
    - 总微指令数:$128+2=130$条
    - 需要$\lceil\log_{2}\!130\rceil=8$位

23.B
- 存储器类型对比
  - 主存储器(MM)
    - 在CPU外
    - 存储指令和数据
    - 主要用RAM实现
  - 控制存储器(CS)
    - 在CPU控制器内
    - 存放微指令
    - 只读型存储器

24.D
- 时钟系统特性
  - 基本概念
    - 时钟周期:时钟脉冲信号宽度
    - 机器主频:时钟周期倒数
  - CPU类型与指令执行
    - 单周期CPU:一个时钟周期执行一条指令
    - 多周期CPU:多个时钟周期执行一条指令
    - 流水线CPU:理想情况下每周期执行一条新指令

25.B
- 指令执行资源需求
  - 取数阶段
    - 通用寄存器组(GPRs)
    - 存储器(Memory)
  - 执行阶段
    - 算术逻辑单元(ALU)
  - 不需使用
    - 指令译码器(ID)

26.D
- 寄存器可见性
  - 汇编程序员可见
    - 基址寄存器
    - 状态/标志寄存器
    - 程序计数器PC
    - 通用寄存器组
  - 汇编程序员不可见
    - MAR、MDR、IR
    - 微指令寄存器
# 二、综合应用题  

01.【解答】
- 时间计算
  - 主频周期
    - ${200}\mathrm{MHz}$ $=1/200\mathrm{MHz}=0.005\upmu\mathrm{s}$
  - 第一种情况
    - 每指令周期2.5个CPU周期
    - 每CPU周期2个主频周期 
    - 指令执行时间 $=2{\times}2.5{\times}0.005{\upmu}{\mathrm{s}}=0.025{\upmu}{\mathrm{s}}$
    - 平均指令执行速度 $=1/0.025=40\mathrm{MIPS}$
  - 第二种情况  
    - 每指令5个CPU周期
    - 每CPU周期4个主频周期
    - 指令执行时间 $=4{\times}5{\times}0.005{\upmu\mathrm{s}}=0.1{\upmu\mathrm{s}}$
    - 平均指令执行速度 $=1/0.1=10\mathrm{MIPS}$
  - 结论:指令复杂度影响平均执行速度

02.【解答】
- 控制存储器容量计算
  - 微指令总数 $=(4–1){\times}80+1=241$条
  - 每条微指令占一个存储单元
  - CM容量为2的n次幂
  - 241<256,所以CM容量 $=256{\times}32$位 $=1\mathrm{KB}$

03.【解答】
- 水平型微指令结构
  - 组成部分
    - 操作控制字段
    - 判别测试字段 
    - 后继地址字段
  - 位数分配
    - 操作控制字段:28位(微命令数)
    - 后继地址字段:9位(512=2^9)
    - 状态位:3位(6个互斥条件)

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/450e1a38e2a3c6592dd4a91dc685a68125be5160303a09ea2bb15b847f6fa540.jpg)

04.【解答】
- 微指令格式设计
  - 控制字段分配
    - 5个互斥类微命令组
    - 各组位数:3,4,2,4,5位(共18位)
    - 条件测试字段:2位
    - 后继地址字段:8位
  - 控制存储器容量
    - $2^8{\times}28$位

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/93db4cd5f499d3cb210536da792fa6d7431dd289ab42c71d7c336a927c763bf3.jpg)

05.【解答】
- 微操作命令设计
  - 立即寻址加法指令
    - $T_0$: Ad(IR)→R1
    - $T_1$: (R1) $^+$ (ACC)→R2
    - $T_2$: (R2)→ACC
  - 取指周期微操作
    - $T_0$: (PC)→MAR，1→RPC
    - $T_1$: M(MAR)→MDR，(PC) $^+$ 1→R2
    - $T_2$: (MDR)→IR，OP(IR)→微操作命令形成部件
    - $T_3$: (R2)→PC
# 5.5.5 答案与解析  

# 单项选择题  

01.C
- 自陷特点
  - 是人为设定的特殊中断机制
  - 不是出现异常情况而产生的
  - C错误

02.C
- 异常与中断的区别
  - 异常
    - CPU执行指令过程中发生的意外事件
    - 与当前指令执行有关
  - 中断请求
    - CPU外部I/O部件或时钟发出
    - 与当前指令执行无关
  - 指令执行结果异常
    - 属于内中断中的故障
    - 如运算溢出等

03.C
- 严重错误处理
  - 错误类型
    - 控制器出错
    - 存储器校验错等
  - 处理方式
    - 程序无法继续执行
    - 需要终止
    - 严重时需调用中断服务程序重启系统

04.C
- CPU对异常和中断的响应处理
  - 共同点
    - 需要保存断点
    - 需要保存程序状态字
    - 需要转到处理程序执行
  - 区别
    - 中断请求
      - 需要"中断回答"信号
      - 需要启动中断控制器进行查询
      - 需要通过数据线获取中断类型号
    - 异常
      - 无须进行中断回答

05.B
- 异常处理比较
  - 需要调用操作系统处理的异常
    - 缺页
    - 地址越界 
    - 除数为0
  - CPU硬件处理的异常
    - Cache缺失

06.A
- 中断周期特点
  - 用于响应中断
  - 在指令执行周期后进入

07.B
- 内部异常与外部中断区分
  - 内部异常
    - 无效操作码(CPU译码时发现)
  - 外部中断
    - 采样定时时间到
    - 打印机缺纸
    - 键盘缓冲满

08.D
- 异常控制流机制
  - 硬件层
    - CPU检测异常和中断
    - 将控制转移到操作系统内核
  - 操作系统层
    - 通过进程上下文切换
    - 转移到另一进程执行
  - 补充知识
    - 控制流定义
      - CPU执行指令的地址序列
    - 正常控制流
      - 通过顺序执行或转移指令
    - 异常控制流
      - 因异常或中断导致的意外控制流

09.C
- 外部中断处理
  - 检测时机
    - 指令执行完后
    - 取下一条指令前
  - 返回位置
    - 返回到被中断指令的下一条
    - 不返回到刚执行完的指令

10.D
- 内部异常特点
  - 来源
    - CPU内部产生
    - 如非法指令、地址非法等
  - 检测方式
    - CPU自身完成
    - 不需外部信号通知
  - 处理要求
    - 不能被屏蔽
    - 需立即处理
  - 错误说明
    - 某些异常无法恢复
    - 必须终止进程执行

11.A
- 中断与异常对比
  - 中断
    - 来自CPU执行指令外的事件
    - 如I/O结束中断
  - 异常
    - 源自CPU执行指令内部事件
    - 也称内中断

12.A
- 自陷机制特点
  - 属于内部异常
  - 用于程序调试
  - 执行特点
    - 自动调用操作系统内核程序
    - 返回到下一条指令执行

13.B
- 不同类型中断的断点位置
  - 自陷(系统调用)
    - 断点为下一条指令地址
  - 外中断(DMA传送结束、打印机缺纸)
    - 断点为下一条指令地址
  - 内部异常(页缺失)
    - 断点为发生故障的指令地址
    - 处理后返回重新执行

# 5.6.7 答案与解析  

# 一、单项选择题  

01.D
- 空间并行与时间并行
  - 空间并行(资源重复)
    - 多个功能部件共同执行同一任务的不同部分
    - 典型如多处理机系统
  - 时间并行(时间重叠)
    - 多个功能部件时间上错开
    - 轮流重叠执行不同任务的相同部分
    - 流水CPU利用时间并行性
  - 错误分析
    - A错误:流水CPU利用时间并行性
    - B错误:CISC也可采用流水线
    - C错误:流水CPU与多媒体CPU无必然联系

02.A
- 吞吐能力分析
  - m段流水线
    - m个时钟周期后每周期完成一条指令
  - m个并行部件
    - m个时钟周期完成m条指令
    - 平均每周期完成一条指令
  - 结论:两者吞吐能力相同

03.B
- 单流水线处理机执行时间
  - 12条指令执行时间为 $3+(12-1)\Delta t=14\Delta t$

04.C
- 超标量流水线处理机执行时间
  - 可发送4条指令
  - 执行时间为 $3+(20-4)/4\Delta t=7\Delta t$

05.D
- 功能段时间设定
  - 取指、分析和执行部分最长时间2ns
  - 第一条指令5ns完成
  - 其余99条每隔2ns完成一条
  - 总时间 $(5+99\times2)\mathrm{ns}=203\mathrm{ns}$

06.D
- 流水段设计原则
  - 功能段包含要求
    - 所有子功能需包含在流水段中
    - 每条指令依次进入所有流水段
  - 流水段规格确定
    - 个数以最复杂指令所需功能段数为准
    - 长度以最复杂操作时间为准
  - 其他指令处理
    - 可通过加入"空操作"功能段对齐

07.A
- 流水线控制信号特点
  - 时钟周期内控制
    - 不同流水段受不同指令控制信号控制
    - 执行不同指令的不同功能段
  - 控制信号产生与传递
    - 译码阶段产生所有控制信号
    - 通过流水段寄存器逐级传递
  - 流水段寄存器特点
    - 位数不一定相同
    - 对用户程序透明

08.B
- 流水线数据通路特点
  - 时钟信号作用范围
    - 流水段寄存器
    - PC、各类寄存器
    - 存储器等状态元件
  - 公共流水段特点
    - 取指令和指令译码功能相同
    - 不需要控制信号

09.D
- 结构冒险解决策略
  - 部件使用限制
    - 每条指令只能使用一次
    - 只能在特定阶段使用
  - 硬件资源配置
    - 设置多个独立部件
    - 如分离读写口
    - 分离指令Cache和数据Cache

10.B
- 数据相关问题处理方法
  - 暂停流水线法
    - 暂停相关指令执行
    - 等待正确读出寄存器操作数
  - 旁路技术法
    - 采用专门数据通路
    - 结果直接送ALU输入端

11.A
- 数据冒险类型分析
  - load-use类型
    - 下一条指令需要本条访存结果
    - 需要添加空操作指令解决
  - 分支指令相关
    - ALU操作数依赖分支结果
    - 如sltrl,r2,r3指令示例

12.D
- 数据冒险解决方案
  - 插入空操作指令
    - 使相关指令延迟执行
  - 采用转发技术
    - 中间数据直接转发到ALU
    - 不能解决load-use类型
  - 编译器优化
    - 调整相关指令顺序

13.D
- 指令序列数据冒险分析
  - I1和I3的冒险
    - EX段结束可得r1新值
    - 可用转发技术解决
  - I2和I3的load-use冒险
    - MEM段结束才能取数据
    - 需插入空操作指令

14.D
- 控制冒险分析
  - 直接转移指令
    - 目标地址执行阶段确定
    - 会发生控制冒险
  - 解决方案
    - 插入空操作可避免
    - 转发技术不能解决
  - 流水段影响
    - 段数越多可能取出更多错误指令

15.C
- 分支预测技术
  - 静态预测
    - 假定分支总是不发生/发生
    - 每次预测结果相同
  - 动态预测
    - 基于之前比较结果
    - 预测成功率较高
  - 预测错误处理
    - 舍弃错误进入流水线的指令

16.B
- 流水段增加影响分析
  - 优点
    - 操作更简单
    - 延迟更小
    - 可提高时钟频率
  - 缺点
    - 增加缓存开销
    - 控制逻辑更复杂
  - 限制
    - 不能无限增加
    - 不能成倍提高效率
17.D
- 流水线性能分析
  - 采用流水线时
    - 第一条指令完成时间为3t
    - 后续每7个周期完成一条指令
    - 总时间为$3t+(8-1)t=10t$
  - 不采用流水线时
    - 每条指令需要3t
    - 8条指令总时间为$8×3t=24t$
  - 加速比计算
    - 加速比=$24t÷10t=2.4$

18.D
- 超标量流水线特点
  - 不仅包括运算操作并行
  - 还包括取指、译码、访存、写回等操作
  - 同时执行多条指令提高效率

19.B
- 超标量技术实现要求
  - 硬件要求
    - 多个功能部件
    - 多个指令译码电路
    - 多个寄存器和总线
  - 超长指令字技术特点
    - 对优化编译器要求高
    - 需要更多硬件资源
  - 流水线特性
    - 按序流动
    - 不会出现WAR和WAW相关
    - 可能出现读取错误

20.A
- 时钟周期设计原则
  - 应以各功能段最长执行时间为准
  - 确保流水段正确完成

21.A
- 流水线阻塞原因
  - 三种相关类型
    - 结构相关(资源相关)
    - 数据相关
    - 控制相关(转移指令引起)
  - 数据旁路技术
    - 直接将执行结果送到所需地方
    - 避免流水线停顿

22.D
- RISC特征
  - 指令长度一致
  - 按边界对齐存放
  - 仅LOAD/STORE指令访存
  - 简化流水线复杂度

23.C
- 流水线性能计算
  - 执行条件
    - 4级流水执行100条指令
    - 使用$4+(100-1)=103$个时钟周期
    - CPU主频1.03GHz
  - 吞吐率计算
    - $1.03G×100/103=1.0×10^9$条指令/秒

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/5f7d23fc43f50b4523b95ffba5c416fc29cebea594dfc08c6977dc35b4c88d25.jpg)

24.D
- Cache分离优势
  - 指令Cache与数据Cache分离
  - 取指和取数到不同Cache
  - 减少指令流水线冲突

25.B
- 数据冒险分析
  - 数据相关定义
    - 需等待前指令执行完成
    - 指令重叠处理时发生冲突
  - 写后读相关分析
    - I2在时钟5写入R5
    - I3在时钟3读R5
    - 发生执行顺序错误

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/a815d58e35bb3ee654053284fc56c112322228f415a7d6aa0399a7bd7acd6b4b.jpg)

26.C
- 超标量特性
  - CPU有多条流水线
  - 每周期完成多条指令
  - 以空间换时间原理

27.A
- 数据通路组成
  - 包含部件
    - 程序计数器
    - ALU
    - 通用寄存器
    - 状态寄存器
    - 异常和中断处理逻辑
  - 不包含控制部件

28.D
- 流水线时间计算
  - 流水段时间
    - 最大部件时间80ps
    - 流水段寄存器延时20ps
  - CPU时钟周期
    - 至少需要100ps

29.C
- 指令流水线执行分析
  - 数据冒险情况
    - I1和I3写后读相关
    - I2和I3写后读相关
    - I3和I4写后读相关
  - I2和I4无数据冒险

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/5038ada6677f2f712eb15c275af65f5d4e8cab52f5ecedfd4e67b4a6433d8318.jpg)

30.B
- CPI分析
  - 单周期CPU
    - 指令周期=时钟周期
    - CPI=1
  - 多周期CPU
    - 分阶段执行
    - CPI>1
  - 基本流水线CPU
    - 每周期流出一条指令
    - CPI=1
  - 超标量流水线CPU
    - 每周期并发多条指令
    - CPI<1

31.C
- 数据冒险处理分析
  - I2和I1间数据冒险
    - 可用转发技术解决
    - 从Ex/Mem寄存器取数据
  - I3和I2间load-use冒险
    - 转发电路无法解决
    - 需阻塞一个时钟周期
  - I4和I3间控制冒险
    - 需要硬件阻塞
    - I3和I4需要被阻塞

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/e3bde2f46c09a966aaa57a60228ed8b12f94ff74d3be9e18c85c15541a7fe7a0.jpg)

# 二、综合应用题  

01.【解答】
- 流水线时钟周期分析
  - 时钟周期计算
    - 按四步操作中最长时间计算
    - $T = 100\,\mathrm{ns}$
  - 指令执行分析
    - 写后读相关情况
    - 两条指令流水线执行过程
    
![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/ebda786ba7456b49dbba6537db19fff46ef29baecfa0b9d6befa9cfef718cbdb.jpg)  

  - 数据冲突处理
    - 不采取硬件措施
      - SUB指令需推迟两个时钟周期
      - 执行过程如下
      
![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/486ed00cd5ca8749447c319f82cc6ebde5c6a027a32997c18e0548efeb436d4f.jpg)  

  - 硬件改进方案
    - 使用数据旁路技术
    - 无需任何延迟
    - 执行过程如下
    
![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/0d82b825ad3018858209add2e9e827c4518ac5791176835b562bcde89d5e1070.jpg)  

02.【解答】
- 指令周期分析
  - 包含F、ID、EX、WB四个子过程
  - 流程图如下
  
![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/05fd87316bcf2197dc53408d55c68e6b0c0d4eff0735c18cdecc155298f72df5.jpg)  

- 非流水线执行分析
  - 每4个周期输出一个结果
  - 时空图如下
  
![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/76898bbfd9acf45755451f6d9bd47930edd2285fff20e8298586ef0b8f98368c.jpg)  

- 流水线执行分析
  - 第一条指令需4个周期
  - 满载后每周期输出一个结果
  - 执行过程如下
  
![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/4d59c86a7cb620089ab9da623509701244a8247c8d31f76a3120d3d584b5f0ff.jpg)  

- 吞吐率计算
  - 13个时钟周期完成10条指令
  - $T=\frac{10}{100\mathrm{ns}\times13}\approx7700000$

03.【解答】
- 机器码分析
  - x的机器码为 $[\mathrm{x}]_{\#}=1111\ 1101\ 1111\ 1111\mathrm{B}$
  - 指令执行前 $\left(\mathrm{R1}\right)=$ FDFFH
  - 右移1位后为1111111011111111B
  - 指令执行后 $\left(\mathrm{R1}\right)=$ FEFFH

- 时钟周期分析
  - 每周期一条指令进入流水线
  - 从第5个周期开始每周期完成一条指令
  - 至少需要8个时钟周期

- 阻塞原因分析
  - I3的ID段阻塞
    - 与I1和I2存在数据相关
    - 需等待结果写回
  - I4的IF段阻塞
    - I3在ID段被阻塞
    - 防止覆盖指令寄存器内容

- 指令序列分析
  - $2^{*}\mathbf{x}$ 操作实现方法
    - 左移或加法两种方式
  - $\mathrm{{x}=\mathrm{{x}^{*}2+\mathrm{{a}}}}$ 对应指令序列
    
    I1 LOAD R1，[x]
    I2 LOAD R2，[a]
    I3 SHL R1 //或者 ADD R1,R1
    I4 ADD R1，R2
    I5 STORE R2,[x]
    
  - 流水线执行过程如下
  
![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/79f6b80cf8403ade469778ee2fbdb49cb53081ee0a6bc6cd74344e0f133c65ba.jpg)  

  - 需要17个时钟周期

04.【解答】
- 流水线阻塞分析
  - RAW数据冒险
    - 源寄存器是上一条指令的目的寄存器
    - 需3个时钟周期阻塞
    - 执行过程如下
    
![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/e0b6b63c9ba8cbf07cee251a009c49742745fbb9711b3819e75c20dc7e1f2579.jpg)  

  - 跳转指令处理
    - 默认3个时钟周期阻塞
    - 执行过程如下
    
![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/1d7a4a6197a58da7cbd4a0f530fedbc68b1e3e180de8d34f4250a26d029a5696.jpg)  

- 计算机M特性分析
  - 地址编址方式
    - 32位定长指令字
    - 按字节编址
  - 数组元素大小
    - 间隔为4个地址单位
    - 每个元素占4B
  - bne指令分析
    - 机器码为1446FFFAH
    - OFFSET字段为FFFAH
    - 跳转地址计算公式

- 指令执行分析
  - 数据相关阻塞
    - 第2、3、4、6条指令
  - 控制冒险
    - 第6条指令

05.【解答】
- 程序执行结果
  - R2最终值为1000
- Cache分析
  - 容量计算
    - $16{\times}32\mathrm{B}=512\mathrm{B}$
  - 命中率计算
    - 指令Cache命中率为99.98%
- 异常分析
  - 溢出异常
    - 指令4可能发生
  - 缺页异常
    - 指令3可能发生
    - 访盘一次
  - TLB访问
    - 共1001次访问

# 5.7.6 答案与解析  

# 一、单项选择题  

# Flynn分类与并行处理

01.D
- Flynn分类法
  - 四种分类：SISD、SIMD、MISD、MIMD
  - 单处理器属于SISD
  - 多处理机属于MIMD

02.B
- 阵列处理机特点
  - 包含多个处理单元组成的计算阵列
  - 单一控制部件控制多个处理单元
  - 每个单元对各自数据进行相同操作
  - 属于SIMD结构

03.D
- 计算机结构分类
  - A/B/C通常为SIMD结构
  - 标量流水线处理机为SISD结构

04.B
- SIMD结构特点
  - 一个指令控制部件
  - 多个处理单元
  - 同一指令处理不同数据

05.C
- 超线程技术
  - 单CPU提供两套线程处理单元
  - 实现线程级并行
  - 资源竞争时需要线程挂起
  - 性能低于双CPU
  - 需要系统支持
    - 芯片组支持
    - 操作系统支持
    - 应用软件支持

06.B
- 超线程技术特点
  - 复制必要线程资源
  - 共享CPU缓存和功能部件
  - 并行执行两线程
  - 资源竞争时需挂起

07.C
- 双核与多核技术
  - 双核:两CPU核心集成一个封装
  - 区别于多处理器和超线程
  - 并行分类
    - 时间并行(流水线)
    - 空间并行(硬件重复)
      - SIMD结构
      - MIMD结构

08.D
- 多核CPU特性
  - 核心对称设计
  - 主频一致性
  - 性能提升方式转变
    - 从提高主频转向增加核心
  - 多线程支持要求

09.C
- 多核CPU架构
  - Cache组织方式
    - 独立Cache
    - 共享Cache
  - 程序支持要求
    - 需多线程支持
  - 多任务系统特点
    - 可运行于单核
    - 宏观并行
    - 微观串行

10.D
- SMP系统特点
  - 采用偶数路CPU
  - 架构比较
    - UMA:受访存冲突限制
    - NUMA:支持无限扩展
  - Cache一致性问题

11.C
- 多核处理器特性
  - 单线程程序限制
  - 属于MIMD系统
  - 集成多个执行内核
  - 能耗特点

12.C
- 计算机系统架构
  - MIMD结构分类
    - 多计算机系统
    - 多处理器系统
  - 向量处理器属SIMD
  - 硬件多线程技术特点
  - SMP内存访问特性

# 6.1.7 答案与解析  

# 一、单项选择题  

01.B
- 总线数据传输特点
  - 多设备分时发送数据
  - 单一时刻只允许一个设备发送
  - 可同时有多个设备接收数据
  - 接收设备不会干扰总线

02.A
- 总线主设备特性
  - 只有主设备可获得控制权
  - 主设备启动信息传输
  - 可有多个主设备
  - 同一时刻仅一个主设备控制

03.C
- 总线组成
  - 数据线:传送数据信息
  - 地址线:传送地址信息
  - 控制线:传送控制信息

04.C
- 系统总线功能
  - 连接计算机功能部件
    - CPU
    - 主存
    - I/O设备

05.C
- 总线结构特点
  - 优点
    - 便于增减外设
    - 减少传输线数
  - 缺点
    - 降低传输并行性
    - 降低传输速度

06.A
- 总线传输特性
  - 地址总线
    - 单向传输
    - CPU向主存/外设传送地址
  - 数据总线
    - 双向传输
    - CPU与主存/外设互传数据
  - 控制总线
    - 传输控制信息
    - 包含控制命令和反馈信号

07.D
- 地址总线功能
  - 指明CPU访问目标
    - 存储单元地址
    - I/O端口地址

08.C
- 控制总线功能
  - 提供定时信号
  - 提供操作命令
  - 提供请求/回答信号

09.C
- 总线分类对比
  - 功能层次划分:片内/系统/通信总线
  - 系统总线组成:I/O/主存/DMA总线
  - 总线标准:不同规范

10.A
- 总线传输方式
  - 串行传输:按位传输
  - 并行传输:同时传输多位
  - 总线复用:分时传输

11.A
- 总线信息传输分工
  - 地址总线:传输地址
  - 数据总线:传输数据

12.B
- 总线带宽计算
  - 总线宽度:32位(4B)
  - 总线频率:500MHz/5=100MHz
  - 传输速率:4B×100MHz=400MB/s

13.D
- 图像传输计算
  - 颜色深度:$2^{16}$色=16位
  - 存储空间:640×480×16=4915200位
  - 传输时间:4915200÷(56×$10^3$)≈87.77s

14.C
- 总线性能计算
  - 数据总线:32位(4B)
  - 工作频率:33MHz
  - 最大传输速率:33×4=132MB/s

15.B
- 总线参数计算
  - 时钟周期:1/100MHz=0.01μs
  - 总线周期:5×0.01μs=0.05μs
  - 总线频率:1/0.05=20MHz
  - 总线带宽:20×(16/8)=40MB/s

16.B
- CPU控制总线信号
  - 时序信号
  - I/O设备响应信号
  - 存储器响应信号

17.B
- 控制总线功能
  - 传输控制信号
    - 存储器时序信号
    - I/O设备时序信号
    - 响应信号
  - 非功能
    - 不传输地址信息
    - 不传输存储器数据
18.B
- 总线传输方向
  - 数据总线
    - 双向传输
    - CPU与内存/外设之间互相传送
  - 地址总线
    - 单向传输
    - 仅由CPU发送至内存/外设
  - 控制总线与状态总线
    - 单向传输
    - 控制信息:CPU发送至内存/外设
    - 状态信息:内存/外设发送至CPU

19.C
- 总线分类
  - 按连接部件分类
    - 片内总线
    - 系统总线
    - 通信总线
  - 三总线结构
    - I/O总线
    - 主存总线
    - DMA总线

20.B
- 总线带宽计算
  - 定义:单位时间内传输数据的位数(B/s)
  - 计算过程
    - 总线周期=2个时钟周期
    - 时钟周期=$1/10\mathrm{MHz}=0.1\upmu\mathrm{s}$
    - 每周期传输4字节
    - 带宽=$4\mathrm{B}\cdot(2\times0.1\upmu s)=4\mathrm{B}\cdot(0.2\times10^{-6}\mathrm{s})=20\mathrm{MB}/\mathrm{s}$

21.D
- 总线标准类型
  - ISA、EISA、VESA
  - PCI、PCI-Express、AGP
  - USB、RS-232C
- 错误选项说明
  - CRT:纯平显示器
  - CPI:每条指令时钟周期数
  - RAM:随机存储器
  - MIPS:每秒百万指令数

22.C
- 数据线传输内容
  - 指令
  - 操作数
  - 中断类型号
    - 用于指示中断向量地址
    - CPU从数据总线获取
- 控制总线传输内容
  - 握手(应答)信号

23.D
- USB特点
  - 即插即用
  - 热插拔
  - 强连接能力(菊花链形式)
  - 可扩充性(最多127个设备)
  - 高速传输(480Mb/s)
  - 串行传输(不能同时传输2位)

24.B
- 总线类型对比
  - USB
    - I/O总线标准
    - 设备总线
    - 连接外设和控制器
  - PCI/AGP/PCI-E
    - 局部总线标准
    - 连接主存/网卡/视频卡

25.C
- 总线性能计算
  - 数据线:32根=4B
  - 时钟频率:66MHz
  - 每周期传送两次
  - 最大传输速率=66M×2×4B=528MB/s

26.B
- 存储器总线带宽计算
  - 3通道
  - 频率:1333MHz
  - 总线宽度:64位(8B)
  - 总带宽=3×8×1333MB/s≈32GB/s

27.C
- 总线带宽计算
  - 每秒传送次数=2.4G×2/s
  - 每次传送16位(2B)
  - 总线带宽=2.4G×2×2B×2/s=19.2GB/s
# 二、综合应用题  

01.【解答】
- 总线周期与数据传输分析
  - 总线周期为7个时钟周期
  - 总线频率计算
    - 频率为$66/7\mathrm{MHz}$
  - 数据传输量
    - 一个周期内传输$64\mathrm{bit}/8{\times}6=48\mathrm{B}$
    - 总线宽度为48B
  - 传输速率
    - 速率为$48\mathrm{B}{\times}66/7\mathrm{MHz}=452.6\mathrm{MB}/\mathrm{s}$
  - 时钟频率减半情况
    - 总线频率为$(66/7)/2\mathrm{MHz}$
    - 数据块大小不变,总线宽度仍为48B
    - 传输速率为$48\mathrm{B}{\times}33/7\mathrm{MHz}=226.3\mathrm{MB/s}$

02.【解答】
- 读操作分析
  - 时钟周期数:$1+2+4=7$
  - 对应频率:100MHz/7
  - 总线宽度:$6{\times}4\mathrm{B}=24\mathrm{B}$
  - 数据传输速率
    - 速率=总线宽度/读取时间
    - 计算结果=$24{\times}(100\mathrm{MHz}/7)=343\mathrm{MB}/\mathrm{s}$

- 写操作分析
  - 时钟周期数:$1+1+4=6$
  - 对应频率:$100\mathrm{MHz}/6$
  - 总线宽度:$6{\times}4\mathrm{B}=24\mathrm{B}$
  - 数据传输速率
    - 速率=总线宽度/写操作时间
    - 计算结果=$24{\times}(100\mathrm{MHz}/6)=400\mathrm{MB}/\mathrm{s}$

- 平均传输速率计算
  - 结果=$343{\times}70\%+400{\times}30\%=360.1\mathrm{MB/s}$
# 6.2.4 答案与解析  

# 一、单项选择题  

01. C
- 设备间数据传送方式
  - 可采用同步和异步两种方式
  - 异步方式主要用于不同设备间通信
  - 同步控制方式的局限性
    - 两种速度不同设备使用同一时钟控制时
    - 不能发挥快速设备的高速性能

02.D
- 数据传输速率计算
  - 一个字符占用 $1+7+1+1=10$ 位
  - 传输速率为 $10{\times}480=4800$ 位/秒

03.C
- 总线事务性能分析
  - 数据传输量: ${\bf8}{\times}4{\bf B}=32{\bf B}$
  - 时钟周期数: $1+3+8=12$
  - 单个时钟周期: 1/50MHz
  - 总时间: $12\!\times\!(1/50\mathrm{MHz})\!=\!0.24\mathrm{s}$
  - 数据传输速率: $32\mathrm{B}{\cdot}[(12{\times}(1/50\mathrm{MHz}))\mathrm{s}]=133.3\mathrm{MB/s}$

04.C
- 同步控制特点
  - 采用统一时序控制的通信方式
  - 使用公共时钟
  - 具有统一时钟周期
  - 应用范围
    - 可用于CPU控制
    - 可用于高速外部设备控制

05.D
- 同步通信特征
  - 采用统一时钟
  - 固定总线传送周期
  - 适用条件
    - 总线长度较短
    - 各部件存取时间接近
  - 优点：具有较高传输速率

06.B
- 同步传输最适用场景
  - 各部件存取时间比较接近

07.D
- 异步总线特点
  - 无公用时钟
  - 依靠"握手"信号实现定时控制
  - 传送操作按需求分配时间

08.C
- 异步通信方式特征
  - 又称应答方式
  - 无公用时钟信号
  - 无固定时间间隔
  - 依靠"握手"信号实现定时控制

09.C
- "握手"方式比较
  - 三种方式：全互锁、半互锁、不互锁
  - 不互锁方式特点
    - 请求和回答信号无相互制约
    - 主设备可自行撤销请求信号
    - 速度最快

10.A
- 异步通信应用场景
  - 适用于速度差异大的设备间通信
  - 示例：I/O接口与打印机通信

11.B
- 异步通信全互锁方式示例
  - 主模块(医生)行为
    - 发出请求信号(伸手)
    - 等待从模块回答
  - 从模块(护士)行为
    - 响应请求
    - 等待主模块确认

12.B
- 总线传输周期划分
  - 寻址阶段
  - 申请分配阶段
  - 传输阶段

13.C
- 总线传输时间计算
  - 时钟周期: $10\mathrm{ns}$ (100MHz)
  - 传输能力：每周期一个32位存储字
  - 总传送时间
    - 地址传送: $10\mathrm{ns}$
    - 数据传送: $40\mathrm{ns}$
    - 总计: $50\mathrm{ns}$

14.C
- 数据传输方式比较
  - 猝发(突发)传输：一次传输多个连续地址数据
  - 并行传输：多个数据位同时传输
  - 串行传输：按时间顺序逐位传输
  - 同步传输：统一时钟控制

15.C
- 同步通信系统时钟特点
  - 采用统一时钟信号
  - 不由各设备提供时钟

16.A
- 总线技术特点分析
  - 并行与串行总线比较
    - 高频下串行总线优势更明显
    - 并行总线存在干扰问题
  - 总线复用特点
    - 信号线复用不同信息
    - 节省空间和成本
  - 突发传输特征
    - 一次传输多个连续地址数据
  - 分离事务通信
    - 属于总线复用方式
    - 提高总线利用率

17.D
- 多总线结构特点
  - 总线速率与设备匹配
    - 高速总线连接高速设备
    - CPU作为高速设备使用高速总线
  - 突发传送方式
    - 多数据单元作为独立传输
    - 提高存储器读写效率
  - 总线互连
    - 通过桥接器连接
    - PCI-Express采用串行数据包传输

18.B
- 总线数据传输速率影响因素
  - 计算公式
    - 传输速率 = 工作频率 × (总线宽度/8)
  - 提高传输效率方法
    - 突发传输可在一个周期传输多个连续数据
    - 地址/数据线复用仅节省成本

19.C
- 总线基本特征
  - 通信介质属性
    - 用于设备间通信
  - 同步总线特点
    - 采用同一时钟信号
    - 事务可跨多个时钟周期
  - 异步总线通信
    - 采用握手方式
    - 每次通信传输多位数据
  - 突发传送特点
    - 地址后连续发送多个数据

20.D
- 总线传输时间计算
  - 单次传输过程
    - 传输地址: 1ns
    - 准备数据: 6ns
    - 传输数据: 1ns
  - 主存块读取
    - 总线宽度: 64位
    - 块大小: 32B
    - 需传输4次
    - 总时间: ${\tt8n s}{\times}4=32{\tt n s}$
# 二、综合应用题  

01.【解答】

- 数据帧分析
  - 有效数据位
    - 7位数据位
  - 总传输位数组成
    - 起始位占1位
    - 数据位占7位
    - 校验位占1位 
    - 停止位占1位
    - 总计位数: $1+7+1+1=10$ 位

- 有效数据传输速率计算
  - 基本参数
    - 总传输速率: 1200 b/s
    - 有效数据占比: 7/10
  - 最终有效速率
    - 计算公式: $1200\times7\div(1+7+1+1)$
    - 计算结果: $840{\tt b}/{\tt s}$
